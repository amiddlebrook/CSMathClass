<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Day 29: Combinatorics & Counting</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
    <link rel="stylesheet" href="../../lessons/shared-styles.css">
    <script src="../../lessons/questions-data.js"></script>
    <script src="../../lessons/shared-scripts.js"></script>
</head>

<body>
    <nav class="nav">
        <div class="nav-inner">
            <a href="../../index.html" class="nav-back">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10 12L6 8L10 4" />
                </svg>
                Back to Curriculum
            </a>
            <div class="nav-progress">
                <span id="progressText">0 / 27 complete</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                </svg>
            </button>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-label">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0L10 6H16L11 9.5L13 16L8 12L3 16L5 9.5L0 6H6L8 0Z" />
            </svg>
            Day 29 · Counting the Impossible
        </div>
        <h1>Combinatorics</h1>
        <p class="hero-desc">
            How many ways can you arrange a deck of cards? ($8 \times 10^{67}$).
            How hard is it to guess a 10-character password?
            Combinatorics calculates the size of the haystack we have to search through.
        </p>
        <div class="hero-meta">
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 6v6l4 2" />
                </svg>
                ~100 min read
            </div>
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                40 practice problems
            </div>
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="5 3 19 12 5 21 5 3" />
                </svg>
                12 video lessons
            </div>
        </div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <nav class="toc">
                <div class="toc-title">On this page</div>
                <ul class="toc-list">
                    <li><a href="#product" class="toc-link">1. The Multiplication Principle</a></li>
                    <li><a href="#permutations" class="toc-link">2. Permutations & Factorials</a></li>
                    <li><a href="#combinations" class="toc-link">3. Combinations & Pascal</a></li>
                    <li><a href="#advanced" class="toc-link">4. Stars & Bars + Pigeonhole</a></li>
                    <li><a href="#python" class="toc-link">5. Python: Itertools & Paradoxes</a></li>
                    <li><a href="#videos" class="toc-link">6. Video Lessons</a></li>
                    <li><a href="#practice" class="toc-link">7. Practice Problems</a></li>
                </ul>
            </nav>
            <div class="stats-card">
                <div class="toc-title">Your Progress</div>
                <div class="stats-row"><span class="stats-label">Attempted</span><span class="stats-value"
                        id="statAttempted">0</span></div>
                <div class="stats-row"><span class="stats-label">Correct</span><span class="stats-value"
                        id="statCorrect">0</span></div>
                <div class="stats-row"><span class="stats-label">Accuracy</span><span class="stats-value"
                        id="statAccuracy">—</span></div>
            </div>
        </aside>

        <main class="content">
            <!-- Product -->
            <section class="section" id="product">
                <div class="section-header">
                    <div class="section-number">Section 1</div>
                    <h2 class="section-title">The Multiplication Principle</h2>
                </div>
                <div class="section-body">
                    <p>
                        The most fundamental theorem in counting. If a process has multiple independent steps,
                        you multiply the choices at each step.
                    </p>
                    <div class="rule">
                        <strong>The Rule of Product:</strong>
                        <br>$$ |A \times B \times C| = |A| \cdot |B| \cdot |C| $$
                    </div>
                    <div class="grid-2col">
                        <div class="card">
                            <h3>Example: The Menu</h3>
                            <p>
                                • 3 Starters
                                <br>• 4 Mains
                                <br>• 2 Desserts
                            </p>
                            <p><strong>Total Meals:</strong> $3 \times 4 \times 2 = 24$.</p>
                        </div>
                        <div class="card">
                            <h3>Example: License Plates</h3>
                            <p>3 Letters, 3 Digits.</p>
                            <p>$26^3 \times 10^3 = 17,576,000$.</p>
                        </div>
                    </div>
                    <div class="info">
                        <strong>Visual Proof: The Tree</strong>
                        <br>Imagine a tree where the root has 3 branches (Starters).
                        <br>Each of those has 4 branches (Mains).
                        <br>Each of those has 2 branches (Desserts).
                        <br>The number of "leaves" is the total count.
                    </div>
                </div>
            </section>

            <!-- Permutations -->
            <section class="section" id="permutations">
                <div class="section-header">
                    <div class="section-number">Section 2</div>
                    <h2 class="section-title">Permutations (Order Matters)</h2>
                </div>
                <div class="section-body">
                    <p>How many ways can you arrange 5 books on a shelf?</p>
                    <ul>
                        <li>Spot 1: 5 choices.</li>
                        <li>Spot 2: 4 choices.</li>
                        <li>Spot 3: 3 choices...</li>
                    </ul>
                    <div class="math-block">
                        n! = n \times (n-1) \times \dots \times 1
                    </div>
                    <div class="subsection">
                        <h3>Partial Permutations $P(n, k)$</h3>
                        <p>Picking a President and VP from 10 people (Order Matters).</p>
                        <p>$$ P(n, k) = \frac{n!}{(n-k)!} = 10 \times 9 = 90 $$</p>
                    </div>
                    <div class="warning">
                        <strong>Complexity Alert:</strong>
                        <br>Factorials grow faster than exponentials.
                        <br>$10! \approx 3.6$ Million.
                        <br>$20! \approx 2.4$ Quintillion. (Traveling Salesman Problem).
                        <br>Approximation: Stirling's Formula ($n! \approx \sqrt{2\pi n} (\frac{n}{e})^n$).
                    </div>
                    <div class="subsection">
                        <h3>Anagrams (Mississippi Rule)</h3>
                        <p>How many ways to arrange "BALL"?</p>
                        <p>Total letters: 4!. But "L" appears twice, indistinguishably.</p>
                        <p>$$ \frac{4!}{2!} = \frac{24}{2} = 12 $$</p>
                    </div>
                </div>
            </section>

            <!-- Combinations -->
            <section class="section" id="combinations">
                <div class="section-header">
                    <div class="section-number">Section 3</div>
                    <h2 class="section-title">Combinations (Order Doesn't Matter)</h2>
                </div>
                <div class="section-body">
                    <p>Picking a committee of 3 from 10. "ABC" is the same team as "CBA".</p>
                    <div class="math-block">
                        $$ C(n, k) = \binom{n}{k} = \frac{P(n, k)}{k!} = \frac{n!}{k!(n-k)!} $$
                    </div>
                    <div class="grid-2col">
                        <div class="card">
                            <h3>Symmetry Logic</h3>
                            <p>Picking 2 people to <strong>keep</strong> is the same as picking 8 to <strong>kick
                                    out</strong>.</p>
                            <p>$$ \binom{10}{2} = \binom{10}{8} $$</p>
                        </div>
                        <div class="card">
                            <h3>Pascal's Triangle</h3>
                            <pre>
      1
     1 1
    1 2 1
   1 3 3 1
  1 4 6 4 1
                            </pre>
                            <p>Row $n$, Item $k$ is $\binom{n}{k}$.</p>
                        </div>
                    </div>
                    <div class="rule">
                        <strong>The Binomial Theorem:</strong>
                        <br>This is why it's useful in Algebra.
                        <br>$$ (x + y)^n = \sum_{k=0}^{n} \binom{n}{k} x^{n-k} y^k $$
                        <br>The coefficients of $(x+y)^4$ are exactly 1, 4, 6, 4, 1.
                    </div>
                </div>
            </section>

            <!-- Advanced -->
            <section class="section" id="advanced">
                <div class="section-header">
                    <div class="section-number">Section 4</div>
                    <h2 class="section-title">Stars and Bars & Pigeons</h2>
                </div>
                <div class="section-body">
                    <div class="subsection">
                        <h3>Multisets (Stars and Bars)</h3>
                        <p>
                            How many ways can you distribute 10 cookies to 3 Kids? (Kids can look sad and get 0).
                            <br>Imagine laying out 10 cookies (Stars: *) and 2 dividers (Bars: |).
                        </p>
                        <p style="font-family: monospace; text-align: center;">*** | **** | ***</p>
                        <p>
                            Total items: $10 + 2 = 12$. We need to choose where to put the 2 bars.
                            <br>$$ \binom{n+k-1}{k-1} = \binom{12}{2} = 66 $$
                        </p>
                    </div>

                    <div class="subsection">
                        <h3>The Pigeonhole Principle</h3>
                        <p>
                            If you have $N+1$ pigeons and $N$ holes, at least one hole must contain 2 pigeons.
                        </p>
                        <div class="grid-2col">
                            <div class="card">
                                <h3>Birthday Paradox</h3>
                                <p>
                                    How many people do you need for a 50% chance of a shared birthday?
                                    <br><strong>Intuition:</strong> 183?
                                    <br><strong>Reality:</strong> Only 23.
                                    <br>Why? We are comparing 23 people to <em>each other</em> ($\binom{23}{2} = 253$
                                    pairs).
                                </p>
                            </div>
                            <div class="card">
                                <h3>Hash Collisions</h3>
                                <p>
                                    If a Hash Map has 1,000 buckets and you insert 1,001 items...
                                    <br>Collision is guaranteed.
                                    <br>Even at 50 items, collision is likely (Birthday Paradox again).
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Python -->
            <section class="section" id="python">
                <div class="section-header">
                    <div class="section-number">Section 5</div>
                    <h2 class="section-title">Python: Itertools & Paradoxes</h2>
                </div>
                <div class="section-body">
                    <p>Python has a standard library for this. Don't write nested for-loops.</p>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <span class="code-label">Permutations & Combinations</span>
                        </div>
                        <div class="code-content">
                            <pre><code class="language-python">import itertools

items = ['A', 'B', 'C']

# Permutations (Order matters)
# Picking 2 items
perms = list(itertools.permutations(items, 2))
print(f"Permutations ({len(perms)}): {perms}")
# [('A', 'B'), ('A', 'C'), ('B', 'A')...] ('A','B') != ('B','A')

# Combinations (Order irrelevant)
combs = list(itertools.combinations(items, 2))
print(f"Combinations ({len(combs)}): {combs}")
# [('A', 'B'), ('A', 'C'), ('B', 'C')] ... Only unique pairs
</code></pre>
                        </div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <span class="code-label">Simulating Birthday Paradox</span>
                        </div>
                        <div class="code-content">
                            <pre><code class="language-python">import random

def has_duplicate_birthday(n_people):
    birthdays = []
    for _ in range(n_people):
        day = random.randint(1, 365)
        # Pigeonhole Check (Collision)
        if day in birthdays:
            return True
        birthdays.append(day)
    return False

# Monte Carlo Simulation
trials = 10000
success = 0
n = 23 # The magic number

for _ in range(trials):
    if has_duplicate_birthday(n):
        success += 1

print(f"Probability with {n} people: {success/trials:.2%}")
# Expect ~50.7%
</code></pre>
                        </div>
                    </div>
                </div>
            </section>


            <!-- Videos -->
            <section class="section" id="videos">
                <div class="section-header">
                    <div class="section-number">Section 6</div>
                    <h2 class="section-title">Video Lessons</h2>
                </div>
                <div class="section-body">
                    <div class="video-container">
                        <div class="video-player">
                            <iframe id="ytPlayer" src="" allowfullscreen></iframe>
                            <div class="video-info">
                                <div class="video-title" id="videoTitle">Select a video</div>
                                <div class="video-meta" id="videoMeta"></div>
                            </div>
                        </div>
                        <div class="video-list" id="videoList"></div>
                    </div>
                </div>
            </section>

            <!-- Practice -->
            <section class="section" id="practice">
                <div class="section-header">
                    <div class="section-number">Section 7</div>
                    <h2 class="section-title">Practice Problems</h2>
                </div>
                <div class="section-body">
                    <div class="quiz-controls">
                        <button class="btn btn-primary" id="btnCheckAll">Check All</button>
                        <button class="btn" id="btnRevealAll">Reveal All</button>
                        <button class="btn" id="btnClear">Clear Inputs</button>
                        <button class="btn btn-danger" id="btnReset">Reset Stats</button>
                    </div>
                    <div id="quizContainer"></div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const VIDEO_GROUPS = [
            {
                title: "Counting Foundations",
                items: [
                    { title: "Permutations and Combinations", channel: "Professor Leonard", vid: "0NAASclUm4k" },
                    { title: "The Counting Principle", channel: "The Organic Chemistry Tutor", vid: "0jfJVpY3Y70" },
                    { title: "Binomial Theorem", channel: "3Blue1Brown", vid: "4PeReH9f_9M" },
                    { title: "Pascal's Triangle", channel: "Numberphile", vid: "XMriWTvPXHI" }
                ]
            },
            {
                title: "Advanced Techniques",
                items: [
                    { title: "Pigeonhole Principle", channel: "TED-Ed", vid: "DJiMqbABMYo" },
                    { title: "Birthday Paradox", channel: "Numberphile", vid: "ofTb57aZHZs" },
                    { title: "Stars and Bars Method", channel: "Trefor Bazett", vid: "gB_5RUVHd_s" },
                    { title: "Derangements", channel: "Numberphile", vid: "pbXg5EI5t4c" }
                ]
            },
            {
                title: "Applications",
                items: [
                    { title: "Password Entropy", channel: "Computerphile", vid: "7U-RbOKanYs" },
                    { title: "Lottery Mathematics", channel: "Numberphile", vid: "3WYHtQprLaA" },
                    { title: "Combinatorics in CS", channel: "CS Dojo", vid: "Y5Rg3xO2e64" },
                    { title: "Python Itertools", channel: "Corey Schafer", vid: "Qu3dThVy6KQ" }
                ]
            }
        ];


        initLesson({
            videos: VIDEO_GROUPS,
            questions: window.QUESTIONS_DATA['day29'] || [],
            storageKey: 'day29_v2'
        });
    </script>
    <script>hljs.highlightAll();</script>
</body>

</html>