<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Free CS Math</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;600;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --bg: #0c0c0f;
      --surface: #16161a;
      --surface-alt: #1c1c21;
      --surface-hover: #222228;
      --border: #2a2a32;
      --border-strong: #3a3a44;
      --text: #ececf1;
      --text-secondary: #a1a1aa;
      --text-muted: #71717a;
      --accent: #a78bfa;
      --accent-light: #2e2454;
      --accent-dark: #c4b5fd;
      --accent-glow: rgba(167, 139, 250, 0.2);
      --success: #4ade80;
      --success-bg: #14532d;
      --shadow: 0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);
      --radius: 8px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --font-serif: 'Source Serif 4', Georgia, serif;
      --font-sans: 'DM Sans', system-ui, sans-serif;
      --font-mono: 'JetBrains Mono', monospace;
    }

    [data-theme="light"] {
      --bg: #fafaf9;
      --surface: #ffffff;
      --surface-alt: #f5f5f4;
      --surface-hover: #f0efed;
      --border: #e7e5e4;
      --border-strong: #d6d3d1;
      --text: #1c1917;
      --text-secondary: #57534e;
      --text-muted: #78716c;
      --accent: #8b5cf6;
      --accent-light: #ede9fe;
      --accent-dark: #7c3aed;
      --accent-glow: rgba(139, 92, 246, 0.15);
      --success: #16a34a;
      --success-bg: #dcfce7;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: var(--font-sans);
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      font-size: 16px;
      min-height: 100vh;
    }

    .nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 12px 24px;
    }

    [data-theme="dark"] .nav {
      background: rgba(22, 22, 26, 0.92);
      backdrop-filter: blur(12px);
    }

    .nav-inner {
      max-width: 1100px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 15px;
      color: var(--text);
      text-decoration: none;
    }

    .nav-logo {
      width: 32px;
      height: 32px;
      background: linear-gradient(135deg, var(--accent), #ec4899);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 800;
      font-size: 14px;
    }

    .theme-toggle {
      width: 40px;
      height: 40px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.15s;
    }

    .theme-toggle:hover {
      background: var(--surface-alt);
      color: var(--text);
      border-color: var(--border-strong);
    }

    .hero {
      max-width: 1100px;
      margin: 0 auto;
      padding: 64px 24px 48px;
      text-align: center;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 13px;
      font-weight: 600;
      color: var(--accent-dark);
      background: var(--accent-light);
      padding: 8px 16px;
      border-radius: 999px;
      margin-bottom: 24px;
    }

    [data-theme="dark"] .hero-badge {
      color: var(--accent);
    }

    .hero h1 {
      font-family: var(--font-serif);
      font-size: clamp(36px, 6vw, 56px);
      font-weight: 700;
      line-height: 1.15;
      letter-spacing: -0.025em;
      margin-bottom: 20px;
    }

    .hero-desc {
      font-size: 18px;
      color: var(--text-secondary);
      max-width: 640px;
      margin: 0 auto 32px;
      line-height: 1.7;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 32px;
      flex-wrap: wrap;
      margin-bottom: 32px;
    }

    .hero-stat {
      text-align: center;
    }

    .hero-stat-value {
      font-family: var(--font-mono);
      font-size: 32px;
      font-weight: 700;
      color: var(--accent);
    }

    .hero-stat-label {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .progress-section {
      max-width: 480px;
      margin: 0 auto;
      padding: 24px;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
    }

    .progress-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .progress-label {
      font-weight: 600;
      font-size: 14px;
    }

    .progress-value {
      font-family: var(--font-mono);
      font-size: 14px;
      color: var(--text-secondary);
    }

    .progress-bar {
      height: 8px;
      background: var(--surface-alt);
      border-radius: 999px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), #ec4899);
      border-radius: 999px;
      transition: width 0.5s ease;
    }

    .progress-meta {
      display: flex;
      justify-content: space-between;
      margin-top: 12px;
      font-size: 13px;
      color: var(--text-muted);
    }

    .toolbar {
      max-width: 1100px;
      margin: 32px auto 0;
      padding: 0 24px;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
    }

    .search-box {
      flex: 1;
      min-width: 280px;
      position: relative;
    }

    .search-box input {
      width: 100%;
      padding: 12px 16px 12px 44px;
      font-size: 14px;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      background: var(--surface);
      color: var(--text);
      outline: none;
      transition: all 0.15s;
    }

    .search-box input:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-glow);
    }

    .search-box input::placeholder {
      color: var(--text-muted);
    }

    .search-icon {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      pointer-events: none;
    }

    .toolbar-btn {
      padding: 12px 16px;
      font-size: 14px;
      font-weight: 600;
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      background: var(--surface);
      color: var(--text);
      cursor: pointer;
      transition: all 0.15s;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .toolbar-btn:hover {
      background: var(--surface-alt);
      border-color: var(--border-strong);
    }

    .toolbar-btn.danger {
      color: #ef4444;
      border-color: rgba(239, 68, 68, 0.3);
    }

    .toolbar-btn.danger:hover {
      background: rgba(239, 68, 68, 0.1);
    }

    .kbd {
      font-family: var(--font-mono);
      font-size: 11px;
      padding: 2px 6px;
      background: var(--surface-alt);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: var(--text-muted);
    }

    .main {
      max-width: 1100px;
      margin: 32px auto 0;
      padding: 0 24px 80px;
    }

    .section-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      margin-bottom: 16px;
      overflow: hidden;
      transition: border-color 0.15s;
    }

    .section-card:hover {
      border-color: var(--border-strong);
    }

    .section-header {
      padding: 20px 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 16px;
      user-select: none;
      list-style: none;
    }

    .section-header::-webkit-details-marker {
      display: none;
    }

    .section-header:hover {
      background: var(--surface-alt);
    }

    .section-toggle {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-muted);
      transition: transform 0.2s;
    }

    .section-card[open] .section-toggle {
      transform: rotate(90deg);
    }

    .section-info {
      flex: 1;
      min-width: 0;
    }

    .section-number {
      font-family: var(--font-mono);
      font-size: 11px;
      font-weight: 600;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 2px;
    }

    .section-title {
      font-family: var(--font-serif);
      font-size: 18px;
      font-weight: 700;
      color: var(--text);
    }

    .section-meta {
      font-family: var(--font-mono);
      font-size: 13px;
      color: var(--text-muted);
      background: var(--surface-alt);
      padding: 6px 12px;
      border-radius: 999px;
    }

    .section-body {
      padding: 0 24px 20px;
    }

    .item {
      display: flex;
      align-items: flex-start;
      gap: 14px;
      padding: 14px 16px;
      border-radius: var(--radius-lg);
      border: 1px solid transparent;
      transition: all 0.15s;
      margin-bottom: 4px;
    }

    .item:hover {
      background: var(--surface-alt);
      border-color: var(--border);
    }

    .item-checkbox {
      width: 20px;
      height: 20px;
      margin-top: 2px;
      accent-color: var(--accent);
      cursor: pointer;
    }

    .item-day {
      font-family: var(--font-mono);
      font-size: 12px;
      font-weight: 600;
      color: var(--text-muted);
      min-width: 56px;
      padding-top: 3px;
    }

    .item-content {
      flex: 1;
      min-width: 0;
    }

    .item-text {
      font-size: 15px;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    .item.done .item-text {
      text-decoration: line-through;
      color: var(--text-muted);
    }

    .lesson-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-left: 10px;
      padding: 5px 12px;
      font-size: 12px;
      font-weight: 600;
      color: var(--accent);
      background: var(--accent-light);
      border-radius: 999px;
      text-decoration: none;
      transition: all 0.15s;
    }

    .lesson-link:hover {
      background: var(--accent);
      color: white;
    }

    [data-theme="dark"] .lesson-link:hover {
      color: #0c0c0f;
    }

    .file-input {
      display: none;
    }

    .footer {
      max-width: 1100px;
      margin: 0 auto;
      padding: 32px 24px;
      text-align: center;
      color: var(--text-muted);
      font-size: 13px;
      border-top: 1px solid var(--border);
    }

    @media (max-width: 640px) {
      .hero {
        padding: 40px 16px 32px;
      }

      .hero-stats {
        gap: 24px;
      }

      .hero-stat-value {
        font-size: 24px;
      }

      .toolbar {
        padding: 0 16px;
      }

      .main {
        padding: 0 16px 60px;
      }

      .section-header {
        padding: 16px;
      }

      .section-body {
        padding: 0 16px 16px;
      }

      .item {
        padding: 12px;
        gap: 10px;
      }

      .item-day {
        min-width: 48px;
        font-size: 11px;
      }
    }
  </style>
  <script>(function () { const t = localStorage.getItem('math_cs_theme') || 'dark'; document.documentElement.setAttribute('data-theme', t); })();</script>
</head>

<body>
  <nav class="nav">
    <div class="nav-inner">
      <a href="index.html" class="nav-brand">
        <div class="nav-logo">∫</div><span>Free CS Math</span>
      </a>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme"><svg width="18" height="18"
          viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
        </svg></button>
    </div>
  </nav>
  <header class="hero">
    <div class="hero-badge"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
        stroke-width="2">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
        <polyline points="22 4 12 14.01 9 11.01" />
      </svg>One bullet = One day</div>
    <h1>Free CS Math Curriculum</h1>
    <p class="hero-desc">A structured path through mathematics and computer science fundamentals. Check items off as you
      go—progress saves locally.</p>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-value" id="totalCount">0</div>
        <div class="hero-stat-label">Total Days</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value" id="doneCount">0</div>
        <div class="hero-stat-label">Completed</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-value" id="currentDay">1</div>
        <div class="hero-stat-label">Current Day</div>
      </div>
    </div>
    <div class="progress-section">
      <div class="progress-header"><span class="progress-label">Overall Progress</span><span class="progress-value"
          id="pctText">0%</span></div>
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill" style="width:0%"></div>
      </div>
      <div class="progress-meta"><span>Consistency beats intensity.</span></div>
    </div>
  </header>
  <div class="toolbar">
    <div class="search-box"><svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8" />
        <line x1="21" y1="21" x2="16.65" y2="16.65" />
      </svg><input type="search" id="search" placeholder="Search topics... (press / to focus)" /></div>
    <button class="toolbar-btn" id="expandAll"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <polyline points="15 3 21 3 21 9" />
        <polyline points="9 21 3 21 3 15" />
        <line x1="21" y1="3" x2="14" y2="10" />
        <line x1="3" y1="21" x2="10" y2="14" />
      </svg>Expand <span class="kbd">E</span></button>
    <button class="toolbar-btn" id="collapseAll"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <polyline points="4 14 10 14 10 20" />
        <polyline points="20 10 14 10 14 4" />
        <line x1="14" y1="10" x2="21" y2="3" />
        <line x1="3" y1="21" x2="10" y2="14" />
      </svg>Collapse <span class="kbd">C</span></button>
    <button class="toolbar-btn danger" id="resetBtn"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2">
        <polyline points="1 4 1 10 7 10" />
        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10" />
      </svg>Reset</button>
  </div>
  <main class="main" id="app"></main>
  <footer class="footer">Built for focused learning. Progress stored locally.</footer>
  <script>
    const sunIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>`;
    const moonIcon = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>`;
    const themeToggle = document.getElementById('themeToggle');
    function updateThemeIcon() { themeToggle.innerHTML = document.documentElement.getAttribute('data-theme') === 'dark' ? sunIcon : moonIcon; }
    themeToggle.addEventListener('click', () => { const next = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark'; document.documentElement.setAttribute('data-theme', next); localStorage.setItem('math_cs_theme', next); updateThemeIcon(); });
    updateThemeIcon();

            const curriculum = [
      { title: "Mathematical Foundations", items: [{ text: "Complete Arithmetic Fluency for CS", lesson: "lessons/01-operating-system/DayOne.html" }, { text: "Algebra Fluency", lesson: "lessons/01-operating-system/DayTwo.html" }, { text: "Functions & Inverses", lesson: "lessons/01-operating-system/DayThree.html" }, { text: "Direct Proof & Induction", lesson: "lessons/01-operating-system/DayFour.html" }, { text: "Writing Proofs — Definitions, Claims, and Structure", lesson: "lessons/01-operating-system/DayFive.html" }, { text: "Checkpoint 1", lesson: "lessons/01-operating-system/DaySix.html" }, ] },
      { title: "Precalculus", items: [{ text: "Functions & Graphs — Polynomials, Rational, Piecewise", lesson: "lessons/02-precalculus/DaySeven.html" }, { text: "Function Transformations & Asymptotes", lesson: "lessons/02-precalculus/DayEight.html" }, { text: "Summation Formulas — Arithmetic, Geometric & Telescoping", lesson: "lessons/02-precalculus/DayNine.html" }, { text: "Recurrences — Unrolling, Guess-and-Check & Master Theorem", lesson: "lessons/02-precalculus/DayTen.html" }, { text: "Summation Formulas — Arithmetic, Geometric & Telescoping", lesson: "lessons/03-calculus/DayEleven.html" }, ] },
      { title: "Linear Algebra", items: [{ text: "Matrix Operations & Determinants", lesson: "lessons/04-linear-algebra/DayNineteen.html" }, { text: "Orthogonality & Least Squares", lesson: "lessons/04-linear-algebra/DayTwenty.html" }, { text: "Vector Spaces & Linear Maps", lesson: "lessons/04-linear-algebra/DayTwentyOne.html" }, { text: "Inner Product Spaces & Spectral Theorem", lesson: "lessons/04-linear-algebra/DayTwentyTwo.html" }, { text: "Checkpoint — Abstract Vectors", lesson: "lessons/04-linear-algebra/DayTwentyThree.html" }, ] },
      { title: "Calculus", items: [{ text: "Recurrences — Unrolling, Guess-and-Check & Master Theorem", lesson: "lessons/03-calculus/DayTwelve.html" }, { text: "Counting Basics — Rule of Sum/Product, P(n,k), C(n,k)", lesson: "lessons/03-calculus/DayThirteen.html" }, { text: "Limits, Derivatives & Integrals", lesson: "lessons/03-calculus/DayFourteen.html" }, { text: "Fundamental Theorem of Calculus", lesson: "lessons/03-calculus/DayFifteen.html" }, { text: "Multiple Integrals & Change of Variables", lesson: "lessons/03-calculus/DaySixteen.html" }, { text: "Partial Derivatives & Gradients", lesson: "lessons/03-calculus/DaySeventeen.html" }, { text: "Systems of ODEs — Ties to Linear Algebra", lesson: "lessons/03-calculus/DayEighteen.html" }, ] },
      { title: "Discrete Mathematics", items: [{ text: "Logic & Sets — Propositional & First-Order Logic", lesson: "lessons/04-linear-algebra/DayTwentyFour.html" }, { text: "Sets & Relations", lesson: "lessons/04-linear-algebra/DayTwentyFive.html" }, { text: "Induction & Counting Principles", lesson: "lessons/04-linear-algebra/DayTwentySix.html" }, { text: "Permutations & Combinations", lesson: "lessons/04-linear-algebra/DayTwentySeven.html" }, { text: "Recurrences & Generating Functions", lesson: "lessons/05-discrete-math/DayTwentyEight.html" }, { text: "Trees & Flows", lesson: "lessons/05-discrete-math/DayTwentyNine.html" }, { text: "Graph Traversal & Correctness", lesson: "lessons/05-discrete-math/DayThirty.html" }, { text: "Number Theory Basics", lesson: "lessons/05-discrete-math/DayThirtyOne.html" }, ] },
      { title: "Algorithms & Data Structures", items: [{ text: "Data Structures & Linked Lists", lesson: "lessons/05-discrete-math/DayThirtyTwo.html" }, { text: "Trees, Tries & Graphs", lesson: "lessons/05-discrete-math/DayThirtyThree.html" }, { text: "Sorting, Searching & Greedy", lesson: "lessons/05-discrete-math/DayThirtyFour.html" }, { text: "Dynamic Programming", lesson: "lessons/05-discrete-math/DayThirtyFive.html" }, { text: "Graph Algorithms & Correctness", lesson: "lessons/05-discrete-math/DayThirtySix.html" }, { text: "Amortized Analysis", lesson: "lessons/05-discrete-math/DayThirtySeven.html" }, { text: "Randomized Algorithms & Hardness", lesson: "lessons/06-algorithms/DayThirtyEight.html" }, ] },
      { title: "Probability & Statistics", items: [{ text: "Conditional Probability & Bayes", lesson: "lessons/06-algorithms/DayThirtyNine.html" }, { text: "Random Variables, Expectation & Moments", lesson: "lessons/06-algorithms/DayForty.html" }, { text: "Common Distributions & their Properties", lesson: "lessons/06-algorithms/DayFortyOne.html" }, { text: "Joint Distributions & Concentration", lesson: "lessons/06-algorithms/DayFortyTwo.html" }, { text: "Statistics (Estimation & Regression)", lesson: "lessons/06-algorithms/DayFortyThree.html" }, ] },
      { title: "Optimization & Numerical Methods", items: [{ text: "Numerical Foundations", lesson: "lessons/07-probability-stats/DayFiftyOne.html" }, { text: "Convex Optimization & KKT", lesson: "lessons/11-functional-pde/DayEightyOne.html" }, { text: "Gradient & Proximal Methods", lesson: "lessons/11-functional-pde/DayEightyTwo.html" }, { text: "Numerical Conditioning", lesson: "lessons/11-functional-pde/DayEightyThree.html" }, { text: "Iterative Methods (Krylov)", lesson: "lessons/11-functional-pde/DayEightyFour.html" }, { text: "Fast Transforms (FFT)", lesson: "lessons/11-functional-pde/DayEightyFive.html" }, ] },
      { title: "Mathematical Analysis", items: [{ text: "Analysis (Limits & Connectivity)", lesson: "lessons/06-algorithms/DayFortyFour.html" }, { text: "Sequences & Series Rigor", lesson: "lessons/06-algorithms/DayFortyFive.html" }, { text: "Completeness & Compactness", lesson: "lessons/06-algorithms/DayFortySix.html" }, { text: "Differentiation & Integration Theorems", lesson: "lessons/06-algorithms/DayFortySeven.html" }, { text: "Series & Uniform Convergence", lesson: "lessons/06-algorithms/DayFortyEight.html" }, { text: "Metric Spaces", lesson: "lessons/07-probability-stats/DayFortyNine.html" }, { text: "Multivariable Calculus", lesson: "lessons/07-probability-stats/DayFifty.html" }, ] },
      { title: "Abstract Algebra", items: [{ text: "Groups & Rings", lesson: "lessons/07-probability-stats/DayFiftyTwo.html" }, { text: "Fields & Galois Theory", lesson: "lessons/07-probability-stats/DayFiftyThree.html" }, { text: "Modules & Vector Spaces", lesson: "lessons/07-probability-stats/DayFiftyFour.html" }, ] },
      { title: "Topology & Measure Theory", items: [{ text: "Topology: Open/Closed & Compactness", lesson: "lessons/08-analysis/DayFiftyFive.html" }, { text: "Product Spaces", lesson: "lessons/08-analysis/DayFiftySix.html" }, { text: "Sigma Algebras & Measures", lesson: "lessons/08-analysis/DayFiftySeven.html" }, { text: "Measurable Functions", lesson: "lessons/08-analysis/DayFiftyEight.html" }, { text: "Convergence Theorems", lesson: "lessons/08-analysis/DayFiftyNine.html" }, { text: "Probability with Measure", lesson: "lessons/08-analysis/DaySixty.html" }, { text: "LLN & CLT", lesson: "lessons/08-analysis/DaySixtyOne.html" }, ] },
      { title: "Functional Analysis & PDE", items: [{ text: "Banach/Hilbert Spaces & Operators", lesson: "lessons/08-analysis/DaySixtyTwo.html" }, { text: "Weak Convergence", lesson: "lessons/08-analysis/DaySixtyThree.html" }, { text: "Complex Analysis Basics", lesson: "lessons/09-numerical/DaySixtyFour.html" }, { text: "Conformal Mapping", lesson: "lessons/09-numerical/DaySixtyFive.html" }, { text: "Fields & Galois Theory", lesson: "lessons/09-numerical/DaySixtySix.html" }, { text: "Modules & Vector Spaces", lesson: "lessons/09-numerical/DaySixtySeven.html" }, { text: "Partial Differential Equations", lesson: "lessons/10-topology-measure/DaySixtyEight.html" }, ] },
      { title: "Theoretical Computer Science", items: [{ text: "Finite Automata & CFLs", lesson: "lessons/10-topology-measure/DaySixtyNine.html" }, { text: "Turing Machines & Decidability", lesson: "lessons/10-topology-measure/DaySeventy.html" }, { text: "Decidability & Reducibility", lesson: "lessons/10-topology-measure/DaySeventyOne.html" }, { text: "P vs NP & Complexity", lesson: "lessons/10-topology-measure/DaySeventyTwo.html" }, { text: "NP-Completeness", lesson: "lessons/10-topology-measure/DaySeventyThree.html" }, { text: "Space Complexity & PSPACE", lesson: "lessons/10-topology-measure/DaySeventyFour.html" }, { text: "Mathematical Logic", lesson: "lessons/10-topology-measure/DaySeventyFive.html" }, { text: "Lambda Calculus", lesson: "lessons/10-topology-measure/DaySeventySix.html" }, { text: "Program Verification", lesson: "lessons/11-functional-pde/DaySeventySeven.html" }, { text: "Information Theory", lesson: "lessons/11-functional-pde/DaySeventyEight.html" }, { text: "Cryptography", lesson: "lessons/11-functional-pde/DaySeventyNine.html" }, { text: "Quantum Computing", lesson: "lessons/11-functional-pde/DayEighty.html" }, ] },
      { title: "Advanced Specialization", items: [{ text: "Additive Combinatorics & Analytic NT", lesson: "lessons/12-theoretical-cs/DayEightySix.html" }, { text: "Harmonic Analysis & PDE", lesson: "lessons/12-theoretical-cs/DayEightySeven.html" }, { text: "Probability: Random Matrices", lesson: "lessons/12-theoretical-cs/DayEightyEight.html" }, { text: "Algebraic Geometry", lesson: "lessons/12-theoretical-cs/DayEightyNine.html" }, { text: "Theoretical CS II", lesson: "lessons/12-theoretical-cs/DayNinety.html" }, { text: "Deep Dive", lesson: "lessons/12-theoretical-cs/DayNinetyOne.html" }, ] },
      { title: "Daily Discipline", items: [{ text: "Daily Problem Solving", lesson: "lessons/13-optimization/DayNinetyTwo.html" }, { text: "Writing Proofs", lesson: "lessons/13-optimization/DayNinetyThree.html" }, { text: "The Lemma Notebook", lesson: "lessons/13-optimization/DayNinetyFour.html" }, { text: "Two-Pass Technique I", lesson: "lessons/13-optimization/DayNinetyFive.html" }, { text: "Two-Pass Technique II", lesson: "lessons/13-optimization/DayNinetySix.html" }, { text: "Feynman Method", lesson: "lessons/13-optimization/DayNinetySeven.html" }, ] },
      { title: "Final Review & Exam", items: [{ text: "Flashcard Review", lesson: "lessons/98-review/DayNinetyEight.html" }, { text: "Final Practice Test", lesson: "lessons/99-tests/DayNinetyNine.html" }, { text: "The Final Exam", lesson: "lessons/100-exam/DayOneHundred.html" }, ] },
    ];

    const STORAGE_KEY = "tao_checklist_v1";
    let state = loadState();
    const flat = [];
    curriculum.forEach((sec, si) => sec.items.forEach((item, ii) => flat.push({ si, ii, ...item })));
    const idFor = (si, ii) => `sec${si}_item${ii}`;
    const dayById = {}; flat.forEach((x, i) => { dayById[idFor(x.si, x.ii)] = i + 1; });

    function loadState() { try { const r = localStorage.getItem(STORAGE_KEY); return r ? JSON.parse(r) : { checked: {}, openSections: [0] }; } catch { return { checked: {}, openSections: [0] }; } }
    function saveState() { localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }

    function render() {
      const app = document.getElementById('app');
      const q = document.getElementById('search').value.toLowerCase().trim();
      app.innerHTML = '';
      curriculum.forEach((sec, si) => {
        const secIds = sec.items.map((_, ii) => idFor(si, ii));
        const secDone = secIds.filter(id => state.checked[id]).length;
        const vis = sec.items.filter((item, ii) => { if (!q) return true; const d = dayById[idFor(si, ii)]; return `${sec.title} ${item.text} day ${d}`.toLowerCase().includes(q); });
        if (q && vis.length === 0) return;
        const det = document.createElement('details'); det.className = 'section-card'; det.open = state.openSections?.includes(si) ?? false;
        det.innerHTML = `<summary class="section-header"><div class="section-toggle"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"/></svg></div><div class="section-info"><div class="section-number">Section ${si + 1}</div><div class="section-title">${sec.title}</div></div><div class="section-meta">${secDone}/${sec.items.length}</div></summary><div class="section-body"></div>`;
        const body = det.querySelector('.section-body');
        sec.items.forEach((item, ii) => {
          const id = idFor(si, ii); const day = dayById[id];
          if (q && !`${sec.title} ${item.text} day ${day}`.toLowerCase().includes(q)) return;
          const row = document.createElement('div'); row.className = 'item' + (state.checked[id] ? ' done' : '');
          const lesson = item.lesson ? `<a href="${item.lesson}" class="lesson-link"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg>View Lesson</a>` : '';
          row.innerHTML = `<input type="checkbox" class="item-checkbox" id="${id}" ${state.checked[id] ? 'checked' : ''}/><div class="item-day">Day ${day}</div><div class="item-content"><span class="item-text">${item.text}</span>${lesson}</div>`;
          const cb = row.querySelector('input');
          cb.addEventListener('change', () => { state.checked[id] = cb.checked; row.classList.toggle('done', cb.checked); saveState(); updateStats(); det.querySelector('.section-meta').textContent = `${secIds.filter(x => state.checked[x]).length}/${sec.items.length}`; });
          body.appendChild(row);
        });
        det.addEventListener('toggle', () => { state.openSections = state.openSections || []; if (det.open && !state.openSections.includes(si)) state.openSections.push(si); else if (!det.open) state.openSections = state.openSections.filter(x => x !== si); saveState(); });
        app.appendChild(det);
      });
      updateStats();
    }

    function updateStats() {
      const total = flat.length, done = Object.values(state.checked).filter(Boolean).length, pct = total ? Math.round(done / total * 100) : 0;
      document.getElementById('totalCount').textContent = total;
      document.getElementById('doneCount').textContent = done;
      document.getElementById('pctText').textContent = `${pct}%`;
      document.getElementById('progressFill').style.width = `${pct}%`;
      let cur = total + 1; for (let i = 0; i < flat.length; i++) { if (!state.checked[idFor(flat[i].si, flat[i].ii)]) { cur = i + 1; break; } }
      document.getElementById('currentDay').textContent = cur;
    }

    document.getElementById('search').addEventListener('input', render);
    document.getElementById('expandAll').addEventListener('click', () => { document.querySelectorAll('.section-card').forEach(d => d.open = true); state.openSections = curriculum.map((_, i) => i); saveState(); });
    document.getElementById('collapseAll').addEventListener('click', () => { document.querySelectorAll('.section-card').forEach(d => d.open = false); state.openSections = []; saveState(); });
    document.getElementById('resetBtn').addEventListener('click', () => { if (!confirm('Reset all progress?')) return; state = { checked: {}, openSections: [0] }; saveState(); render(); });
    document.addEventListener('keydown', e => { if (e.target.tagName === 'INPUT') return; if (e.key === '/') e.preventDefault(), document.getElementById('search').focus(); else if (e.key === 'e' || e.key === 'E') document.getElementById('expandAll').click(); else if (e.key === 'c' || e.key === 'C') document.getElementById('collapseAll').click(); });
    render();
  </script>
</body>

</html>