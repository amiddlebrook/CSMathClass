<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Day 3: Functions & Inverses</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
    <link rel="stylesheet" href="../../lessons/shared-styles.css">
    <script src="../../lessons/questions-data.js"></script>
    <script src="../../lessons/shared-scripts.js"></script>
</head>

<body>
    <nav class="nav">
        <div class="nav-inner">
            <a href="../../index.html" class="nav-back"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M10 12L6 8L10 4" />
                </svg>Back to Curriculum</a>
            <div class="nav-progress"><span id="progressText">0 / 20 complete</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme"><svg width="18" height="18"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                </svg></button>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-label"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0L10 6H16L11 9.5L13 16L8 12L3 16L5 9.5L0 6H6L8 0Z" />
            </svg>Day 3 ¬∑ Operating System</div>

        <p class="hero-desc">Functions are the building blocks of programming. Every method you write is a function.
            Understanding domain, range, inverses, and composition makes you a better programmer.</p>
        <div class="hero-meta">
            <div class="meta-item">~50 min read</div>
            <div class="meta-item">20 practice problems</div>
            <div class="meta-item">10 video lessons</div>
        </div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <nav class="toc">
                <div class="toc-title">On this page</div>
                <ul class="toc-list">
                    <li><a href="#why" class="toc-link">Why This Matters</a></li>
                    <li><a href="#basics" class="toc-link">1. Function Basics</a></li>
                    <li><a href="#domain" class="toc-link">2. Domain & Range</a></li>
                    <li><a href="#inverse" class="toc-link">3. Inverse Functions</a></li>
                    <li><a href="#composition" class="toc-link">4. Composition</a></li>
                    <li><a href="#gotchas" class="toc-link">5. Common Gotchas</a></li>
                    <li><a href="#videos" class="toc-link">6. Video Lessons</a></li>
                    <li><a href="#practice" class="toc-link">7. Practice Problems</a></li>
                </ul>
            </nav>
            <div class="stats-card">
                <div class="toc-title">Your Progress</div>
                <div class="stats-row"><span class="stats-label">Attempted</span><span class="stats-value"
                        id="statAttempted">0</span></div>
                <div class="stats-row"><span class="stats-label">Correct</span><span class="stats-value"
                        id="statCorrect">0</span></div>
                <div class="stats-row"><span class="stats-label">Accuracy</span><span class="stats-value"
                        id="statAccuracy">‚Äî</span></div>
            </div>
        </aside>

        <main class="content">
            <section class="section" id="why">
                <div class="section-header">
                    <div class="section-number">Section 0</div>
                    <h2 class="section-title">Why Functions Matter in CS</h2>
                </div>
                <div class="section-body">
                    <p>In programming, functions are everywhere. A method that takes parameters and returns a value is
                        exactly the mathematical concept of a function. Understanding the theory helps you write better
                        code.</p>
                    <div class="rule"><strong>Key insight:</strong> A function maps each input to exactly one output.
                        This is why pure functions are predictable and testable.</div>
                    <div class="info">
                        <strong>ü§ñ Simple:</strong> Think of a function like a vending machine. You put a coin in
                        (input), and you get a specific snack out (output). If you put the same coin in, you always get
                        the same snack. An inverse function is like a refund button: it takes the snack back and gives
                        you the coin.
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Where you'll use this</h3>
                        <ul>
                            <li><strong>Type Systems:</strong> Function signatures are domain ‚Üí range declarations</li>
                            <li><strong>Functional Programming:</strong> Composition, currying, higher-order functions
                            </li>
                            <li><strong>Encryption:</strong> Encryption and decryption are inverse functions</li>
                            <li><strong>Data Pipelines:</strong> ETL is function composition: Extract ‚Üí Transform ‚Üí Load
                            </li>
                            <li><strong>APIs:</strong> Request ‚Üí Response is a function (input ‚Üí output)</li>
                        </ul>
                    </div>
                    <div class="code-block">
                        <div class="code-header"><span class="code-lang">Python</span><span class="code-label">Functions
                                in code = mathematical functions</span></div>
                        <div class="code-content">
                            <pre><span class="code-comment"># Mathematical function: f(x) = x¬≤</span>
<span class="code-keyword">def</span> <span class="code-function">f</span>(x: <span class="code-type">float</span>) -> <span class="code-type">float</span>:
    <span class="code-keyword">return</span> x ** <span class="code-number">2</span>

<span class="code-comment"># Domain: all real numbers (float)</span>
<span class="code-comment"># Range: non-negative reals (x¬≤ ‚â• 0)</span>
<span class="code-comment"># Type hint is literally: domain ‚Üí range</span>

<span class="code-comment"># Composition: g(f(x))</span>
<span class="code-keyword">def</span> <span class="code-function">g</span>(x): <span class="code-keyword">return</span> x + <span class="code-number">1</span>
result = <span class="code-function">g</span>(<span class="code-function">f</span>(<span class="code-number">3</span>))  <span class="code-comment"># g(f(3)) = g(9) = 10</span></pre>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="basics">
                <div class="section-header">
                    <div class="section-number">Section 1</div>
                    <h2 class="section-title">Function Basics</h2>
                </div>
                <div class="section-body">
                    <div class="subsection">
                        <h3 class="subsection-title">What is a function?</h3>
                        <div class="math-block">A function f: A ‚Üí B maps each element x ‚àà A to exactly one element f(x)
                            ‚àà B.

                            Key requirement: Each input gives exactly ONE output.
                            (Same input must always give same output)</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Function notation</h3>
                        <div class="math-block">f(x) = 2x + 3

                            To evaluate f(5):
                            f(5) = 2(5) + 3 = 13

                            The function f takes input x and outputs 2x + 3.</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Vertical line test</h3>
                        <p>A graph represents a function if every vertical line crosses it at most once. Multiple
                            y-values for one x-value means it's NOT a function.</p>
                        <div class="info"><strong>Example:</strong> y = x¬≤ is a function (parabola passes test). x¬≤ + y¬≤
                            = 1 is NOT a function (circle fails test).</div>
                    </div>
                </div>
            </section>

            <section class="section" id="domain">
                <div class="section-header">
                    <div class="section-number">Section 2</div>
                    <h2 class="section-title">Domain & Range</h2>
                </div>
                <div class="section-body">
                    <div class="subsection">
                        <h3 class="subsection-title">Definitions</h3>
                        <div class="math-block">Domain: Set of all valid inputs (x-values)
                            Range: Set of all possible outputs (y-values)

                            f(x) = ‚àöx
                            Domain: x ‚â• 0 (can't take square root of negative)
                            Range: y ‚â• 0 (square roots are non-negative)</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Finding domain restrictions</h3>
                        <div class="rule"><strong>Look for:</strong><br>‚Ä¢ Division by zero (denominator ‚â† 0)<br>‚Ä¢ Square
                            roots of negatives (radicand ‚â• 0)<br>‚Ä¢ Logarithms of non-positives (argument > 0)</div>
                        <div class="math-block">f(x) = 1/(x - 3)
                            Domain: x ‚â† 3 (avoid division by zero)

                            g(x) = ‚àö(x - 2)
                            Domain: x ‚â• 2 (radicand must be ‚â• 0)

                            h(x) = ‚àö(x - 1) / (x - 4)
                            Domain: x ‚â• 1 AND x ‚â† 4</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">CS parallel: Type systems</h3>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">TypeScript</span><span
                                    class="code-label">Types are domain/range declarations</span></div>
                            <div class="code-content">
                                <pre><span class="code-comment">// Domain: string, Range: number</span>
<span class="code-keyword">function</span> <span class="code-function">parseAge</span>(input: <span class="code-type">string</span>): <span class="code-type">number</span> {
    <span class="code-keyword">return</span> parseInt(input, <span class="code-number">10</span>);
}

<span class="code-comment">// Restricting domain with types</span>
<span class="code-keyword">type</span> <span class="code-type">PositiveNumber</span> = <span class="code-type">number</span> & { __positive: <span class="code-keyword">true</span> };

<span class="code-keyword">function</span> <span class="code-function">sqrt</span>(x: <span class="code-type">PositiveNumber</span>): <span class="code-type">number</span> {
    <span class="code-keyword">return</span> Math.sqrt(x);
}</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="inverse">
                <div class="section-header">
                    <div class="section-number">Section 3</div>
                    <h2 class="section-title">Inverse Functions</h2>
                </div>
                <div class="section-body">
                    <div class="subsection">
                        <h3 class="subsection-title">What is an inverse?</h3>
                        <div class="math-block">If f(x) = y, then f‚Åª¬π(y) = x

                            The inverse "undoes" the function:
                            f‚Åª¬π(f(x)) = x
                            f(f‚Åª¬π(x)) = x</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Finding an inverse</h3>
                        <div class="rule"><strong>Method:</strong><br>1. Replace f(x) with y<br>2. Swap x and y<br>3.
                            Solve for y<br>4. Replace y with f‚Åª¬π(x)</div>
                        <div class="math-block">Find inverse of f(x) = 2x + 3:

                            1. y = 2x + 3
                            2. x = 2y + 3 (swap)
                            3. x - 3 = 2y
                            y = (x - 3)/2
                            4. f‚Åª¬π(x) = (x - 3)/2

                            Verify: f(f‚Åª¬π(x)) = 2((x-3)/2) + 3 = x - 3 + 3 = x ‚úì</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">One-to-one requirement</h3>
                        <div class="warning"><strong>Important:</strong> Only one-to-one functions have inverses. A
                            function is one-to-one if different inputs give different outputs (passes horizontal line
                            test).</div>
                        <div class="math-block">f(x) = x¬≤ is NOT one-to-one (f(2) = f(-2) = 4)
                            So x¬≤ has no inverse over all reals.

                            But if we restrict domain to x ‚â• 0:
                            f(x) = x¬≤ (x ‚â• 0) ‚Üí f‚Åª¬π(x) = ‚àöx</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">CS application: Encryption</h3>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">Python</span><span
                                    class="code-label">Encrypt/Decrypt are inverse functions</span></div>
                            <div class="code-content">
                                <pre><span class="code-comment"># Simple Caesar cipher</span>
<span class="code-keyword">def</span> <span class="code-function">encrypt</span>(text, shift):
    <span class="code-keyword">return</span> <span class="code-string">''</span>.join(<span class="code-function">chr</span>((<span class="code-function">ord</span>(c) - <span class="code-number">97</span> + shift) % <span class="code-number">26</span> + <span class="code-number">97</span>) <span class="code-keyword">for</span> c <span class="code-keyword">in</span> text)

<span class="code-keyword">def</span> <span class="code-function">decrypt</span>(text, shift):
    <span class="code-keyword">return</span> <span class="code-function">encrypt</span>(text, -shift)  <span class="code-comment"># Inverse!</span>

msg = <span class="code-string">"hello"</span>
encrypted = <span class="code-function">encrypt</span>(msg, <span class="code-number">3</span>)   <span class="code-comment"># "khoor"</span>
decrypted = <span class="code-function">decrypt</span>(encrypted, <span class="code-number">3</span>)  <span class="code-comment"># "hello"</span>

<span class="code-comment"># decrypt(encrypt(x)) = x ‚Üê inverse property!</span></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="composition">
                <div class="section-header">
                    <div class="section-number">Section 4</div>
                    <h2 class="section-title">Function Composition</h2>
                </div>
                <div class="section-body">
                    <div class="subsection">
                        <h3 class="subsection-title">Definition</h3>
                        <div class="math-block">(f ‚àò g)(x) = f(g(x))

                            "f composed with g" means: first apply g, then apply f.

                            If f(x) = x¬≤ and g(x) = x + 1:
                            (f ‚àò g)(x) = f(g(x)) = f(x + 1) = (x + 1)¬≤
                            (g ‚àò f)(x) = g(f(x)) = g(x¬≤) = x¬≤ + 1

                            Note: f ‚àò g ‚â† g ‚àò f in general!</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">Evaluating compositions</h3>
                        <div class="math-block">Given f(x) = 2x and g(x) = x - 3:

                            (f ‚àò g)(5) = f(g(5)) = f(2) = 4
                            (g ‚àò f)(5) = g(f(5)) = g(10) = 7

                            Find (f ‚àò g)(x):
                            (f ‚àò g)(x) = f(g(x)) = f(x - 3) = 2(x - 3) = 2x - 6</div>
                    </div>
                    <div class="subsection">
                        <h3 class="subsection-title">CS application: Pipelines</h3>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">Python</span><span class="code-label">Data
                                    pipelines = function composition</span></div>
                            <div class="code-content">
                                <pre><span class="code-comment"># Individual transformation functions</span>
<span class="code-keyword">def</span> <span class="code-function">clean</span>(data): <span class="code-keyword">return</span> data.strip().lower()
<span class="code-keyword">def</span> <span class="code-function">tokenize</span>(data): <span class="code-keyword">return</span> data.split()
<span class="code-keyword">def</span> <span class="code-function">count</span>(tokens): <span class="code-keyword">return</span> <span class="code-function">len</span>(tokens)

<span class="code-comment"># Composition: count(tokenize(clean(x)))</span>
<span class="code-keyword">def</span> <span class="code-function">word_count</span>(text):
    <span class="code-keyword">return</span> <span class="code-function">count</span>(<span class="code-function">tokenize</span>(<span class="code-function">clean</span>(text)))

<span class="code-comment"># Or use a compose helper</span>
<span class="code-keyword">from</span> functools <span class="code-keyword">import</span> reduce
<span class="code-keyword">def</span> <span class="code-function">compose</span>(*funcs):
    <span class="code-keyword">return</span> reduce(<span class="code-keyword">lambda</span> f, g: <span class="code-keyword">lambda</span> x: f(g(x)), funcs)

word_count = <span class="code-function">compose</span>(count, tokenize, clean)</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section" id="gotchas">
                <div class="section-header">
                    <div class="section-number">Section 5</div>
                    <h2 class="section-title">Common Gotchas</h2>
                </div>
                <div class="section-body">
                    <div class="warning"><strong>1. f‚Åª¬π(x) ‚â† 1/f(x)</strong><br>The inverse notation f‚Åª¬π does NOT mean
                        reciprocal! f‚Åª¬π is the inverse function, 1/f is the reciprocal.</div>
                    <div class="warning"><strong>2. Composition order matters</strong><br>(f ‚àò g)(x) = f(g(x)), not
                        g(f(x)). Read right to left: apply g first, then f.</div>
                    <div class="warning"><strong>3. Not all functions have inverses</strong><br>x¬≤ doesn't have an
                        inverse over all reals because f(2) = f(-2). Must restrict domain.</div>
                    <div class="warning"><strong>4. Domain of composition</strong><br>For (f ‚àò g)(x), the output of g
                        must be in the domain of f.</div>
                    <div class="warning"><strong>5. Inverse swaps domain and range</strong><br>Domain of f = Range of
                        f‚Åª¬π, and vice versa.</div>
                </div>
            </section>

            <section class="section" id="videos">
                <div class="section-header">
                    <div class="section-number">Section 6</div>
                    <h2 class="section-title">Video Lessons</h2>
                </div>
                <div class="section-body">
                    <div class="video-container">
                        <div class="video-player">
                            <iframe id="ytPlayer" src="" allowfullscreen></iframe>
                            <div class="video-info">
                                <div class="video-title" id="videoTitle">Select a video</div>
                                <div class="video-meta" id="videoMeta"></div>
                            </div>
                        </div>
                        <div class="video-list" id="videoList"></div>
                    </div>
                </div>
            </section>

            <section class="section" id="practice">
                <div class="section-header">
                    <div class="section-number">Section 7</div>
                    <h2 class="section-title">Practice Problems</h2>
                </div>
                <div class="section-body">
                    <p>Type your answer. Use standard notation: sqrt(x), x>=2, etc.</p>
                    <div class="quiz-controls">
                        <button class="btn btn-primary" id="btnCheckAll">Check All</button>
                        <button class="btn" id="btnRevealAll">Reveal All</button>
                        <button class="btn" id="btnClear">Clear Inputs</button>
                        <button class="btn btn-danger" id="btnReset">Reset Stats</button>
                    </div>
                    <div id="quizContainer"></div>
                </div>
            </section>
        </main>
    </div>
    <script>
        const VIDEO_GROUPS = [
            {
                title: "Lesson Videos",
                items: [
                    { title: "Video 1", channel: "Course Reference", vid: "l3XzepN03KQ" },
                    { title: "Video 2", channel: "Course Reference", vid: "Z8j5RDOibV4" },
                    { title: "Video 3", channel: "Course Reference", vid: "oKqtgz2peTI" },
                    { title: "Video 4", channel: "Course Reference", vid: "vA-55wZtLeE" },
                    { title: "Video 5", channel: "Course Reference", vid: "fNk_zzaMoSs" },
                    { title: "Video 6", channel: "Course Reference", vid: "i7idZfS8t8w" },
                    { title: "Video 7", channel: "Course Reference", vid: "Z5MnP9da4EM" },
                    { title: "Video 8", channel: "Course Reference", vid: "xGOQYTo9AKY" },
                    { title: "Video 9", channel: "Course Reference", vid: "HFPlKQGChpE" }
                ]
            }
        ];
        initLesson({ videos: VIDEO_GROUPS, questions: window.QUESTIONS_DATA['day3'], storageKey: 'day3_v1' });
    </script>
</body>
</body>

</html>