<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Day 39: Conditional Probability & Bayes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../shared-styles.css">
    <script>(function () { const t = localStorage.getItem('math_cs_theme') || (window.matchMedia('(prefers-color-scheme:dark)').matches ? 'dark' : 'light'); document.documentElement.setAttribute('data-theme', t); })();</script>
</head>

<body>
    <nav class="nav">
        <div class="nav-inner">
            <a href="../../index.html" class="nav-back">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10 12L6 8L10 4" />
                </svg>
                Back to Curriculum
            </a>
            <div class="nav-progress">
                <span id="progressText">0 / 10 complete</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme"></button>
        </div>
    </nav>

    <header class="hero">
        <div class="hero-label">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 0L10 6H16L11 9.5L13 16L8 12L3 16L5 9.5L0 6H6L8 0Z" />
            </svg>
            Day 39 · Probability & Statistics
        </div>
        <h1>Probability Basics</h1>
        <p class="hero-desc">
            The rigorous framework for quantifying uncertainty. From Kolmogorov's axioms to Bayesian inference,
            understanding how to model randomness is essential for modern CS.
        </p>
        <div class="hero-meta">
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 6v6l4 2" />
                </svg>
                ~45 min read
            </div>
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path
                        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                </svg>
                10 practice problems
            </div>
            <div class="meta-item">
                <svg class="meta-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="5 3 19 12 5 21 5 3" />
                </svg>
                Video lessons
            </div>
        </div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <nav class="toc">
                <div class="toc-title">On this page</div>
                <ul class="toc-list">
                    <li><a href="#foundations" class="toc-link">1. Foundations</a></li>
                    <li><a href="#axioms" class="toc-link">2. The Axioms</a></li>
                    <li><a href="#counting" class="toc-link">3. Combinatorics</a></li>
                    <li><a href="#conditional" class="toc-link">4. Conditional & Independence</a></li>
                    <li><a href="#bayes" class="toc-link">5. Bayes' Theorem</a></li>
                    <li><a href="#videos" class="toc-link">6. Video Lessons</a></li>
                    <li><a href="#practice" class="toc-link">7. Practice</a></li>
                </ul>
            </nav>
            <div class="stats-card">
                <div class="toc-title">Your Progress</div>
                <div class="stats-row"><span class="stats-label">Attempted</span><span class="stats-value"
                        id="statAttempted">0</span></div>
                <div class="stats-row"><span class="stats-label">Correct</span><span class="stats-value"
                        id="statCorrect">0</span></div>
                <div class="stats-row"><span class="stats-label">Accuracy</span><span class="stats-value"
                        id="statAccuracy">—</span></div>
            </div>
        </aside>

        <main class="content">
            <!-- Foundations -->
            <section class="section" id="foundations">
                <div class="section-header">
                    <div class="section-number">Section 1</div>
                    <h2 class="section-title">The Probability Space</h2>
                </div>
                <div class="section-body">
                    <p>
                        Probability theory is built upon set theory. Before we calculate "chances," we must formally
                        define
                        the universe of possibilities. A probability space is a triple $( \Omega, \mathcal{F}, P )$.
                    </p>

                    <div class="subsection">
                        <h3 class="subsection-title">1. Sample Space ($\Omega$)</h3>
                        <p>
                            The set of all possible outcomes of an experiment. It can be discrete (finite or countably
                            infinite) or continuous.
                        </p>
                        <div class="math-block">Examples:
                            Coin Flip: Ω = {H, T}
                            Two Dice: Ω = {(1,1), (1,2), ..., (6,6)} (|Ω| = 36)
                            Time until server failure: Ω = [0, ∞) (Continuous)</div>
                    </div>

                    <div class="subsection">
                        <h3 class="subsection-title">2. Events ($\mathcal{F}$)</h3>
                        <p>
                            An event is a subset of the sample space. The collection of all valid events $\mathcal{F}$
                            is a
                            sigma-algebra (σ-algebra), which is closed under complement and countable union.
                        </p>
                        <ul>
                            <li><strong>Atomic Event:</strong> A single outcome, e.g., $\omega = \{H\}$.</li>
                            <li><strong>Compound Event:</strong> A set of outcomes, e.g., $E = \{ \text{even roll} \} =
                                \{2, 4, 6\}$.</li>
                            <li><strong>Empty Set ($\emptyset$):</strong> The impossible event.</li>
                            <li><strong>Sample Space ($\Omega$):</strong> The certain event.</li>
                        </ul>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <span class="code-label">Modeling Sample Spaces</span>
                        </div>
                        <div class="code-content">
                            <pre><span class="code-keyword">import</span> itertools

<span class="code-comment"># Define a sample space for 3 coin flips</span>
coins = [<span class="code-string">'H'</span>, <span class="code-string">'T'</span>]
omega = <span class="code-function">list</span>(itertools.product(coins, repeat=<span class="code-number">3</span>))

<span class="code-function">print</span>(<span class="code-string">f"Size of Sample Space: {len(omega)}"</span>)  <span class="code-comment"># 8</span>

<span class="code-comment"># Define an Event A: "At least two heads"</span>
event_A = [outcome <span class="code-keyword">for</span> outcome <span class="code-keyword">in</span> omega <span class="code-keyword">if</span> outcome.count(<span class="code-string">'H'</span>) >= <span class="code-number">2</span>]

<span class="code-function">print</span>(<span class="code-string">f"Event A: {event_A}"</span>)
<span class="code-function">print</span>(<span class="code-string">f"P(A) = {len(event_A)/len(omega)}"</span>)  <span class="code-comment"># 4/8 = 0.5</span></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Axioms -->
            <section class="section" id="axioms">
                <div class="section-header">
                    <div class="section-number">Section 2</div>
                    <h2 class="section-title">The Kolmogorov Axioms</h2>
                </div>
                <div class="section-body">
                    <p>
                        In 1933, Andrey Kolmogorov formalized probability with three simple axioms. Every rule you know
                        (sum rule, complement rule) is a theorem derived from these three statements.
                    </p>

                    <div class="rule">
                        <strong>The Three Axioms:</strong>
                        <ol>
                            <li><strong>Non-negativity:</strong> For any event $A$, $P(A) \geq 0$.</li>
                            <li><strong>Normalization:</strong> $P(\Omega) = 1$.</li>
                            <li><strong>Countable Additivity:</strong> If $A_1, A_2, ...$ are pairwise disjoint
                                (mutually exclusive) events, then:
                                $$P\left(\bigcup_{i=1}^{\infty} A_i\right) = \sum_{i=1}^{\infty} P(A_i)$$
                            </li>
                        </ol>
                    </div>

                    <div class="subsection">
                        <h3 class="subsection-title">Derived Theorems</h3>
                        <p>From the axioms, we immediately prove powerful properties:</p>
                        <div class="math-block">1. Complement Rule:
                            P(Aᶜ) = P(Ω) - P(A) = 1 - P(A)

                            2. Monotonicity:
                            If A ⊆ B, then P(A) ≤ P(B)

                            3. Inclusion-Exclusion (Union Rule):
                            P(A ∪ B) = P(A) + P(B) - P(A ∩ B)

                            4. Boole's Inequality (Union Bound):
                            P(∪ Aᵢ) ≤ ∑ P(Aᵢ) (Extremely useful in algorithm analysis)</div>
                    </div>
                </div>
            </section>

            <!-- Counting -->
            <section class="section" id="counting">
                <div class="section-header">
                    <div class="section-number">Section 3</div>
                    <h2 class="section-title">Combinatorics & Counting</h2>
                </div>
                <div class="section-body">
                    <p>
                        For finite sample spaces with uniform probability (all outcomes equally likely), calculating
                        probability
                        reduces to counting. $P(A) = \frac{|A|}{|\Omega|}$.
                    </p>

                    <div class="subsection">
                        <h3 class="subsection-title">Permutations & Combinations</h3>
                        <div class="two-col">
                            <div>
                                <h4>Permutations (Order matters)</h4>
                                <p>Arranging $k$ items from $n$.</p>
                                <div class="math-block">P(n, k) = \frac{n!}{(n-k)!}</div>
                                <p class="text-sm">Example: Assigning Gold, Silver, Bronze from 10 runners.</p>
                            </div>
                            <div>
                                <h4>Combinations (Order doesn't matter)</h4>
                                <p>Choosing $k$ items from $n$.</p>
                                <div class="math-block">C(n, k) = \binom{n}{k} = \frac{n!}{k!(n-k)!}</div>
                                <p class="text-sm">Example: Choosing a committee of 3 from 10 people.</p>
                            </div>
                        </div>
                    </div>

                    <div class="warning">
                        <strong>The Birthday Paradox:</strong>
                        How many people ($k$) need to be in a room for a 50% chance that two share a birthday?
                        <br><br>
                        Intuition might say 183 (half of 365).
                        Math says <strong>23</strong>.
                        <br>
                        Reason: We are comparing pairs. $C(23, 2) = 253$ pairs. The probability of <em>no match</em>
                        drops quickly.
                    </div>
                </div>
            </section>

            <!-- Conditional -->
            <section class="section" id="conditional">
                <div class="section-header">
                    <div class="section-number">Section 4</div>
                    <h2 class="section-title">Conditional Probability</h2>
                </div>
                <div class="section-body">
                    <p>
                        Often, we update our probability based on new information. "What is the probability of A given
                        that B has occurred?"
                    </p>
                    <div class="formula-box">
                        <div class="formula-label">Definition</div>
                        <div class="formula-main">P(A | B) = \frac{P(A \cap B)}{P(B)}</div>
                    </div>

                    <div class="subsection">
                        <h3 class="subsection-title">Independence</h3>
                        <p>
                            Two events A and B are <strong>independent</strong> if knowing B occurs gives no information
                            about A.
                        </p>
                        <div class="math-block">Definition 1: P(A | B) = P(A)
                            Definition 2: P(A ∩ B) = P(A)P(B)</div>
                        <p>
                            <strong>Crucial Distinction:</strong> Disjoint (mutually exclusive) events are <em>highly
                                dependent</em>.
                            If $A \cap B = \emptyset$, then knowing $B$ occurred tells you $A$ definedly did NOT occur.
                            Thus, $P(A|B) = 0 \neq P(A)$.
                        </p>
                    </div>

                    <div class="subsection">
                        <h3 class="subsection-title">Chain Rule</h3>
                        <p>Unrolling the conditional definition allows us to calculate the probability of a sequence of
                            events:</p>
                        <div class="math-block">P(A_1 \cap A_2 \cap ... \cap A_n) = P(A_1) P(A_2|A_1) P(A_3|A_1, A_2)
                            ...</div>
                        <p>This is central to probabilistic graphical models (Bayesian Networks) and language models
                            (LLMs).</p>
                    </div>
                </div>
            </section>

            <!-- Bayes -->
            <section class="section" id="bayes">
                <div class="section-header">
                    <div class="section-number">Section 5</div>
                    <h2 class="section-title">Bayes' Theorem</h2>
                </div>
                <div class="section-body">
                    <p>
                        Bayes' Theorem describes how to update the probability of a hypothesis ($H$) given evidence
                        ($E$).
                        It is the engine of learning.
                    </p>

                    <div class="formula-box">
                        <div class="formula-label">Bayes' Theorem</div>
                        <div class="formula-main">P(H | E) = \frac{P(E | H) P(H)}{P(E)}</div>
                    </div>

                    <div class="row" style="margin-top: 24px; display: flex; gap: 24px; flex-wrap: wrap;">
                        <div style="flex: 1; min-width: 200px;">
                            <strong>The Posterior:</strong> $P(H|E)$<br>
                            What we want to know. "Probability of disease given positive test."
                        </div>
                        <div style="flex: 1; min-width: 200px;">
                            <strong>The Likelihood:</strong> $P(E|H)$<br>
                            How probable is the evidence if the hypothesis is true? "Probability of positive test given
                            disease."
                        </div>
                        <div style="flex: 1; min-width: 200px;">
                            <strong>The Prior:</strong> $P(H)$<br>
                            Our initial belief before seeing evidence. "Prevalence of disease."
                        </div>
                    </div>

                    <div class="subsection" style="margin-top: 32px;">
                        <h3 class="subsection-title">Law of Total Probability</h3>
                        <p>Usually, we expand the denominator $P(E)$ using a partition of hypotheses $H_i$ (e.g.,
                            Disease vs No Disease):</p>
                        <div class="math-block">P(E) = \sum_i P(E | H_i) P(H_i)
                            P(E) = P(E|H)P(H) + P(E|H^c)P(H^c)</div>
                    </div>

                    <div class="code-block">
                        <div class="code-header">
                            <span class="code-lang">Python</span>
                            <span class="code-label">Bayesian Update Example</span>
                        </div>
                        <div class="code-content">
                            <pre><span class="code-keyword">def</span> <span class="code-function">bayesian_update</span>(prior, likelihood, false_positive_rate):
    <span class="code-string">"""
    prior: P(H)
    likelihood: P(E|H) (True Positive Rate)
    false_positive_rate: P(E|not H)
    """</span>
    p_h = prior
    p_not_h = <span class="code-number">1</span> - prior
    
    p_e_given_h = likelihood
    p_e_given_not_h = false_positive_rate
    
    <span class="code-comment"># Law of Total Probability: P(E)</span>
    p_e = (p_e_given_h * p_h) + (p_e_given_not_h * p_not_h)
    
    <span class="code-comment"># Bayes' Theorem: P(H|E)</span>
    posterior = (p_e_given_h * p_h) / p_e
    <span class="code-keyword">return</span> posterior

<span class="code-comment"># Scenario: Spam Filter</span>
<span class="code-comment"># P(Spam) = 0.4 (Prior)</span>
<span class="code-comment"># P("Viagra"|Spam) = 0.5 (Likelihood)</span>
<span class="code-comment"># P("Viagra"|Not Spam) = 0.01 (False Positive)</span>

prob_spam = <span class="code-function">bayesian_update</span>(prior=<span class="code-number">0.4</span>, likelihood=<span class="code-number">0.5</span>, false_positive_rate=<span class="code-number">0.01</span>)

<span class="code-function">print</span>(<span class="code-string">f"P(Spam | 'Viagra') = {prob_spam:.4f}"</span>)
<span class="code-comment"># Result: 0.9709. The evidence strongly shifted the prior from 40% to 97%.</span></pre>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Videos -->
            <section class="section" id="videos">
                <div class="section-header">
                    <div class="section-number">Section 6</div>
                    <h2 class="section-title">Video Lessons</h2>
                </div>
                <div class="section-body">
                    <div class="video-container">
                        <div class="video-player">
                            <iframe id="ytPlayer" src=""
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                            <div class="video-info">
                                <div class="video-title" id="videoTitle">Select a video to start</div>
                                <div class="video-meta" id="videoMeta"></div>
                            </div>
                        </div>
                        <div class="video-list" id="videoList"></div>
                    </div>
                </div>
            </section>

            <!-- Practice -->
            <section class="section" id="practice">
                <div class="section-header">
                    <div class="section-number">Section 7</div>
                    <h2 class="section-title">Practice Problems</h2>
                </div>
                <div class="section-body">
                    <div class="quiz-controls">
                        <button class="btn btn-primary" id="btnCheckAll">Check All</button>
                        <button class="btn" id="btnRevealAll">Reveal All</button>
                        <button class="btn" id="btnClear">Clear Inputs</button>
                        <button class="btn btn-danger" id="btnReset">Reset Stats</button>
                    </div>
                    <div id="quizContainer"></div>
                </div>
            </section>
        </main>
    </div>

    <script src="../shared-scripts.js"></script>
    <script>
        const VIDEO_GROUPS = [
        {
            title: "Lesson Videos",
            items: [
            { title: "Video 1", channel: "Course Reference", vid: "btnCheckAll" },
            { title: "Video 2", channel: "Course Reference", vid: "code-string" },
            { title: "Video 3", channel: "Course Reference", vid: "stats-label" },
            { title: "Video 4", channel: "Course Reference", vid: "main-layout" },
            { title: "Video 5", channel: "Course Reference", vid: "HZGCoVF3YvM" },
            { title: "Video 6", channel: "Course Reference", vid: "3Blue1Brown" },
            { title: "Video 7", channel: "Course Reference", vid: "stats-value" },
            { title: "Video 8", channel: "Course Reference", vid: "themeToggle" },
            { title: "Video 9", channel: "Course Reference", vid: "foundations" },
            { title: "Video 10", channel: "Course Reference", vid: "code-number" }
            ]
        }
    ];
        const QUESTIONS = [
            { topic: "Sets", prompt: "The set of all possible outcomes is the ___ Space.", answer: "sample" },
            { topic: "Sets", prompt: "If A ∩ B = ∅, the events are ___.", answer: "disjoint", altAnswers: ["independent", "mutually exclusive"] },
            { topic: "Axioms", prompt: "P(Ω) = ___.", answer: "1" },
            { topic: "Combinatorics", prompt: "Number of ways to arrange 3 items: ___.", answer: "6" },
            { topic: "Independence", prompt: "If A, B independent, P(A|B) = P(___).", answer: "A", altAnswers: ["a"] },
            { topic: "Independence", prompt: "If A, B independent, P(A ∩ B) = P(A) * P(___).", answer: "B", altAnswers: ["b"] },
            { topic: "Bayes", prompt: "P(H|E) is called the ___ probability.", answer: "posterior" },
            { topic: "Bayes", prompt: "P(H) is called the ___ probability.", answer: "prior" },
            { topic: "Theorems", prompt: "P(A ∪ B) = P(A) + P(B) - P(___).", answer: "A ∩ B", altAnswers: ["a ∩ b", "intersection", "A and B"] },
            { topic: "Simulation", prompt: "In Python, we use the ___ library for combinations.", answer: "itertools", altAnswers: ["math"] }
        ];
        initLesson({ videos: VIDEO_GROUPS, questions: QUESTIONS, storageKey: 'day39_conditional_v1' });
    </script>
</body>

</html>